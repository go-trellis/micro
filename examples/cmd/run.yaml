project:
    logger:
        level: 1
        chan_buffer: 10000
        separator: "\t"

    registries:
        etcd-test:
            type: etcd
            options:
                endpoint: 127.0.0.1:2379
                heartbeat: 10s
                ttl: 15s
                timeout: 10s
                retry_times: 1 # 0 is unlimited
            watchers:
                -
                    name: remote_http
                    version: v1
                    load_balancing: 1
                -
                    name: remote_grpc
                    version: v1
                    load_balancing: 1

    services:
        trellis-postapi:
            version: v1
            options:
                mode: "debug" # "" "release" "test"
                http:
                    path: /api/v1
                    address: ":8000"
                    cors:
                        allow-origins: ["*"]
                        allow-methods: ["POST", "GET", "OPTION"]
                        allow-headers: ["X-Requested-With", "X-Cookie", "sso_service_ticket", "Authorization", "Content-Type", "Content-Length", "Origin", "X-ERP", "X-API", "Accept"]
                        expose-headers: ["Content-Length", "Content-Type", "Authorization", "X-Cookie", "sso_service_ticket", "X-ERP", "X-API"]
                apis:
                    type: mysql # mysql
                    mysql:
                        ticker: 30s
                        test:
                            host:      127.0.0.1
                            port:      3306
                            user:      worker
                            password:  "123456"
                            charset:   utf8
                            location:  "Asia/Shanghai"
                            parseTime: "True"
                            allow_native_passwords: "true"
                            max_idle_conns: 10
                            max_open_conns: 100
                            log_level: 1
                            show_sql: false
                            is_default: true
                            timeout: 5s
                    # file:
                    #     trellis_test:
                    #         api: trellis.test
                    #         service_name: serviceA
                    #         service_version: v1
                    #         topic: test1
                    #     test_remote:
                    #         api: trellis.test_remote
                    #         service_name: serviceA
                    #         service_version: v1
                    #         topic: test_remote
                    #     trellis_grpc:
                    #         api: trellis.test_grpc
                    #         service_name: serviceA
                    #         service_version: v1
                    #         topic: test_grpc
                    #     trellis_testb:
                    #         api: trellis.testb
                    #         service_name: serviceB
                    #         service_version: v1
                    #         topic: test
        serviceA:
            version: v1
            options:
                key1: a
                key2: b
        serviceB:
            version: v1