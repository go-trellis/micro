project:
    logger:
        level: 1
        chan_buffer: 10000
        separator: "\t"
    services:
        trellis-postapi:
            version: v1
            options:
                mode: "release" # "" "release" "test"
                http:
                    path: /
                    address: ":8001"
                    cors:
                        allow-origins: ["*"]
                        allow-methods: ["POST", "GET", "OPTION"]
                        allow-headers: ["X-Requested-With", "X-Cookie", "sso_service_ticket", "Authorization", "Content-Type", "Content-Length", "Origin", "X-ERP", "X-API", "Accept"]
                        expose-headers: ["Content-Length", "Content-Type", "Authorization", "X-Cookie", "sso_service_ticket", "X-ERP", "X-API"]
                apis:
                    type: file # mysql
                    mysql:
                        ###
                    file:
                        trellis_test:
                            api: trellis.test
                            service_name: serviceA
                            service_version: v1
                            topic: test1
        serviceA:
            version: v1
            options:
                key1: a
                key2: b
            registry:
                name: etcd-test
                domain: 127.0.0.1:8001
                weight: 10 ## default 1
                protocol: http
                metadata:
                    a: b
                    c: d
        serviceB:
            version: v1
    registries:
        etcd-test:
            type: 1
            options:
                endpoint: 127.0.0.1:2379
                heartbeat: 10s
                ttl: 15s
                timeout: 10s
                retry_times: 1
            watchers:
                -
                    name: remote_http 
                    version: v1

